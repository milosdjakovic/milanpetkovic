---
import darkLeather from "../images/dark_leather.png";
import routeData from "../data/route_data.json";
---

<input type="checkbox" id="sidebar-toggle" class="hidden" checked />

<button
  id="menu-button"
  class="z-20 flex items-stretch lg:hidden focus:outline-none hover:text-fluo-green"
>
  <label
    for="sidebar-toggle"
    class="flex items-center w-10 justify-center cursor-pointer"
  >
    <svg
      id="menu-icon"
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 icon icon-tabler icon-tabler-menu"
      viewBox="0 0 24 24"
      stroke-width="2"
      stroke="currentColor"
      fill="none"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path stroke="none" d="M0 0h24v24H0z"></path>
      <line x1="4" y1="8" x2="20" y2="8"></line>
      <line x1="4" y1="16" x2="20" y2="16"></line>
    </svg>

    <svg
      id="x-icon"
      xmlns="http://www.w3.org/2000/svg"
      class="hidden w-6 icon icon-tabler icon-tabler-x"
      viewBox="0 0 24 24"
      stroke-width="2"
      stroke="currentColor"
      fill="none"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path stroke="none" d="M0 0h24v24H0z"></path>
      <line x1="18" y1="6" x2="6" y2="18"></line>
      <line x1="6" y1="6" x2="18" y2="18"></line>
    </svg>
  </label>
</button>

<div
  id="side-panel-backdrop"
  class="fixed inset-0 bg-black/70 transition duration-300 ease-in-out"
>
</div>

<div
  id="side-panel"
  class="fixed bottom-0 top-0 right-0 w-full max-w-xs transition duration-300 ease-in-out shadow-xl"
  style={{ backgroundImage: `url(${darkLeather.src})` }}
>
</div>

<style>
  #sidebar-toggle:checked ~ #side-panel-baackdrop {
    @apply opacity-100;
  }

  #sidebar-toggle:not(:checked) ~ #side-panel-backdrop {
    @apply opacity-0;
  }

  #sidebar-toggle:checked ~ #side-panel {
    @apply opacity-100;
  }

  #sidebar-toggle:not(:checked) ~ #side-panel {
    @apply opacity-0 translate-x-12;
  }

  #sidebar-toggle:not(:checked) ~ #menu-button #menu-icon,
  #sidebar-toggle:checked ~ #menu-button #x-icon {
    @apply block;
  }

  #sidebar-toggle:checked ~ #menu-button #menu-icon,
  #sidebar-toggle:not(:checked) ~ #menu-button #x-icon {
    @apply hidden;
  }
</style>
