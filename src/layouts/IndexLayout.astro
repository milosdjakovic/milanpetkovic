---
import type { AlbumData, Language, Locale } from "../bin/types";

import AlbumList from "../components/AlbumList.astro";
import UpcomingEvents from "../components/UpcomingEvents.vue";

import i18nData from "../data/i18n_data.json";
import eventsData from "../data/events.json";
import discographyData from "../data/discography.json";

const discography: AlbumData[] = discographyData;

export interface Props {
  language: Language;
  locale: Locale;
}

const { language, locale } = Astro.props;
---

<!-- Latest Release -->
<div class="text-center">
  <h2 class="text-2xl">
    {i18nData.discography.latestRelease[language]}
  </h2>

  <AlbumList language={language} discography={discography} onlyLatest={true} />

  <a
    href={`discography`}
    class="inline-block mt-6 cursor-pointer text-fluo-green underline opacity-75 hover:opacity-100"
  >
    {i18nData.discography.latestRelease[language]}
  </a>
</div>

<!-- Upcoming events -->
<div class="mt-16 text-center">
  <UpcomingEvents
    language={language}
    locale={locale}
    events={eventsData}
    client:load
  />
</div>
